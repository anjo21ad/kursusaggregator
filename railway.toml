# Railway.app Configuration for n8n Deployment
# This file configures health checks, restart policy, and deployment settings
# for the n8n workflow automation container

[deploy]
# Restart policy: Automatically restart container on failure
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10  # Prevent infinite restart loops

# Health check configuration
healthcheckPath = "/healthz"  # n8n provides /healthz endpoint
healthcheckTimeout = 300       # 5 minutes for initial startup (n8n can be slow)

# Deployment configuration
startCommand = "n8n start"     # Command to start n8n

[build]
# Use custom Dockerfile for n8n (optimized for Railway + PostgreSQL)
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile.n8n"

# Note: All environment variables are set in Railway Dashboard Variables
# This avoids conflicts and allows easier management of secrets
